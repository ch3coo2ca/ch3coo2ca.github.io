---
layout: post
title: "Git rebase vs. merge ì°¨ì´"
description: "Git rebaseì™€ merge ì°¨ì´ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì"
tags: [Git]
---

ë¸Œëœì¹˜ë¥¼ í•©ì¹˜ëŠ” ë°©ë²•ì€ ë‘ ê°€ì§€ê°€ ìˆëŠ”ë° rebaseì™€ mergeì˜ ë™ì‘ íë¦„ê³¼ ì°¨ì´ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì. ì•Œê³  ìˆëŠ” ê°œë…ì´ê¸´ í•˜ì§€ë§Œ ì´ë²ˆ ê¸°íšŒì— í—·ê°ˆë¦¬ëŠ” ë¶€ë¶„ë“¤ì„ ëª…í™•íˆ í•˜ê³ ì ì •ë¦¬í•œë‹¤. ì´ì œ í—·ê°ˆë ¤ì„œ ìê¾¸ êµ¬ê¸€ë§ì— ì‹œê°„ ì“°ëŠ” ì¼ì´ ì—†ê¸°ë¥¼ ğŸ™

ì•„ë˜ ê·¸ë¦¼ì€ master ë¸Œëœì¹˜ì˜ `M2` ì»¤ë°‹ì—ì„œ `feature` ë¸Œëœì¹˜ë¥¼ ë”°ì„œ F1, F2 ì»¤ë°‹ì„ í•œ íë¦„ì´ë‹¤.

![git commit history](https://user-images.githubusercontent.com/38097442/166154027-f166a1d6-169d-492a-9d3b-6c64276aa0a1.png)
_masterì™€ feature ë¸Œëœì¹˜ ì»¤ë°‹ íˆìŠ¤í† ë¦¬_


ìœ„ì™€ ê°™ì€ ìƒí™©ì—ì„œ, í˜‘ì—…í•˜ëŠ” ë™ë£Œê°€ master ë¸Œëœì¹˜ì— ìƒˆë¡œìš´ ì‘ì—… ì‚¬í•­ `M3` ì»¤ë°‹ì„ í‘¸ì‰¬í–ˆë‹¤ê³  ê°€ì •í•´ë³´ì. ë§Œì•½ feature ë¸Œëœì¹˜ì—ì„œ masterì˜ ë³€ê²½ ì‚¬í•­ì„ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ê²½ìš° `rebase` ë˜ëŠ” `merge` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

<br>

## Git merge

í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ merge ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œë‹¤.

```bash
git checkout feature  # feature ë¸Œëœì¹˜ë¡œ ì´ë™í•œë‹¤.
git merge master      # masterì˜ ì‘ì—… ì‚¬í•­ì„ featureì— ë¨¸ì§€í•œë‹¤.
```

ë‘ ë¸Œëœì¹˜ì˜ ì‘ì—… ì‚¬í•­ì„ í•©ì¹˜ëŠ” **merge ì»¤ë°‹**ì´ feature ë¸Œëœì¹˜ì— ìƒì„±ëœë‹¤. ë‹¤ìŒê³¼ ê°™ì€ íë¦„ìœ¼ë¡œ masterê°€ featureì— í•©ì³ì§€ë©´ì„œ `F3` merge ì»¤ë°‹ì´ ìƒì„±ëœë‹¤.

![merge master into feature](https://user-images.githubusercontent.com/38097442/166154042-9598cc12-bb13-4e1d-b263-19b2108cd318.png)
_masterë¥¼ feature ë¸Œëœì¹˜ì— merge_

mergeì˜ ì¥ì ì€ ë¸Œëœì¹˜ê°€ í•©ì³ì§„ ì´í›„ì—ë„ ê°ê°ì˜ ì»¤ë°‹ì´ ë‚¨ì•„ ìˆì–´ì„œ, í•´ë‹¹ ë¸Œëœì¹˜ì˜ ì‘ì—… ë‚´ì—­ì„ ì¶”ì í•˜ê¸° ì‰½ë‹¤. 

í•˜ì§€ë§Œ ë¸Œëœì¹˜ë¥¼ í•©ì¹  ë•Œ ë§ˆë‹¤ ë¶ˆí•„ìš”í•œ merge ì»¤ë°‹ì´ ë‚¨ê²Œë˜ì–´ ë¡œê·¸ê°€ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆë‹¤. ë‹¤ìŒì€ ì¶”ê°€ ì»¤ë°‹ì„ ìƒì„±í•˜ì§€ ì•Šê³  ë¸Œëœì¹˜ë¥¼ í•©ì¹  ìˆ˜ ìˆëŠ” rebaseì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì.

<br>

## Git rebase

`rebase`ëŠ” ì´ë¦„ëŒ€ë¡œ baseë¥¼ ì¬ì„¤ì •í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ë¸Œëœì¹˜ë¥¼ ë”´ ì‹œì‘ ì§€ì ì´ baseê°€ ë˜ëŠ”ë°,  `M2` ê°€ feature ë¸Œëœì¹˜ì˜ baseê°€ ëœë‹¤.

í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ rebase ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œë‹¤.

```bash
git checkout feature  # feature ë¸Œëœì¹˜ë¡œ ì´ë™í•œë‹¤.
git rebase master     # feature ë¸Œëœì¹˜ì—ì„œ masterë¥¼ rebase í•œë‹¤.
```

rebase ì‘ì—…ì€ master ë¸Œëœì¹˜ì˜ ë³€ê²½ ì‚¬í•­ì„ ëª¨ë‘ ê°€ì ¸ì™€ì„œ feature ë¸Œëœì¹˜ë¥¼ master ëë¶€ë¶„ì—ì„œ ì‹œì‘í•˜ë„ë¡ í•œë‹¤. ê·¸ë¦¬ê³  í•­ìƒ ë³€ê²½ ì‚¬í•­ë¶€í„° ê¸°ì¡´ì˜ feature ì»¤ë°‹ì´ ëª¨ë‘ **ìƒˆë¡œìš´ ì»¤ë°‹ìœ¼ë¡œ ìƒì„±**ëœë‹¤.

rebaseì˜ ê°€ì¥ í° ì¥ì ì€ **ì»¤ë°‹ íˆìŠ¤í† ë¦¬ê°€ ê¹”ë”**í•´ì§„ë‹¤ëŠ” ê²ƒì¸ë°, **ë¶ˆí•„ìš”í•œ merge ì»¤ë°‹ì´ ìƒì„±ë˜ì§€ ì•Šê¸° ë•Œë¬¸**ì— ë‹¤ìŒê³¼ ê°™ì´ ì„ í˜•ì˜ íˆìŠ¤í† ë¦¬ë¥¼ ê°€ì§€ê²Œ ëœë‹¤.

![rebase feature with master](https://user-images.githubusercontent.com/38097442/166154079-81413b17-d752-4440-8012-709a430011b0.png)
_feature ë¸Œëœì¹˜ì—ì„œ masterë¥¼ rebase_


### The Golden Rule of Rebasing

rebaseí•  ë•Œ ì£¼ì˜í•´ì•¼ í•  ì ì´ ìˆëŠ”ë°, **public ë¸Œëœì¹˜ì—ì„œëŠ” rebaseë¥¼ í•˜ì§€ ë§ì•„ì•¼ í•œë‹¤**ëŠ” ê²ƒì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìœ„ì˜ ì˜ˆì‹œì™€ ë°˜ëŒ€ë¡œ master ë¸Œëœì¹˜ì—ì„œ feature ë¸Œëœì¹˜ë¥¼ rebaseí•˜ëŠ” ê²½ìš°ë¥¼ ê°€ì •í•´ë³´ì.

![rebase master with feature](https://user-images.githubusercontent.com/38097442/166154085-cc1c5f5f-d81a-4d4c-8771-bf78065c3905.png)
_master ë¸Œëœì¹˜ì—ì„œ featureë¥¼ rebase_

rebaseë¥¼ í•˜ê²Œ ë˜ë©´ ìœ„ì™€ ê°™ì´ masterì˜ ëª¨ë“  ì»¤ë°‹ì´ featureì˜ ëë¶€ë¶„ì— ìœ„ì¹˜í•˜ê²Œ ëœë‹¤. ì—¬ê¸°ì„œ ë¬¸ì œì ì€ ë‹¤ë¥¸ íŒ€ì›ë“¤ì´ masterì—ì„œ ì‘ì—…ì„ í•˜ëŠ” ê²½ìš°ì´ë‹¤. rebaseë¥¼ í•˜ë©´ ìƒˆë¡œìš´ ì»¤ë°‹ì„ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ íŒ€ì›ë“¤ê³¼ masterì˜ ì´ë ¥ì´ ë‹¬ë¼ì§€ëŠ” ìƒí™©ì´ ìƒê¸´ë‹¤.

ì„œë¡œ ë‹¤ë¥¸ ë‘ ë¸Œëœì¹˜ë¥¼ ë™ê¸°í™”í•˜ë ¤ë©´ mergeë¥¼ í•´ì•¼ í•˜ëŠ”ë° ì—­ì‹œë‚˜ ë¶ˆí•„ìš”í•œ merge ì»¤ë°‹ì´ ìƒê¸°ê²Œ ë˜ê³ , ê°™ì€ ë³€ê²½ ì‚¬í•­ì„ ê°€ì§„ ì»¤ë°‹ì´ ë‘ ì„¸íŠ¸ì”© ìƒì„±ëœë‹¤. (ì›ë³¸ master ë¸Œëœì¹˜ì™€ rebaseí•œ master ë¸Œëœì¹˜)

ê¼­ rebaseë¥¼ í•˜ê¸° ì „ì— *â€œì´ ë¸Œëœì¹˜ë¥¼ ë°”ë¼ë³´ê³  ìˆëŠ” ë‹¤ë¥¸ ì‘ì—…ìê°€ ìˆëŠ”ê°€?â€* ë¥¼ ìƒê°í•˜ê³  public ë¸Œëœì¹˜ë¥¼ rebaseí•  ë•Œ ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•´ì•¼ í•œë‹¤.

<br>

## Merge vs. Rebase

- Merge
    - **ë¶ˆí•„ìš”í•œ merge ì»¤ë°‹**ì´ ë‚¨ê²Œ ë˜ì–´ ì»¤ë°‹ íˆìŠ¤í† ë¦¬ê°€ ë³µì¡í•´ì§„ë‹¤.
    - ë¸Œëœì¹˜ë¥¼ í•©ì¹œ ì´í›„ì—ë„ ê° ë¸Œëœì¹˜ì˜ ì‘ì—… ë‚´ì—­ì„ ì¶”ì í•  ìˆ˜ ìˆë‹¤.
- Rebase
    - merge ì»¤ë°‹ì´ ë‚¨ì§€ ì•Šì•„ì„œ **ê¹”ë”í•œ ì»¤ë°‹ íˆìŠ¤í† ë¦¬**ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
    - **ì‘ì—…ë‚´ì—­ì„ ìƒˆë¡œìš´ ì»¤ë°‹ìœ¼ë¡œ ë®ì–´ ì“°ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ ëª…ì´ í•¨ê»˜ ì‘ì—…í•˜ëŠ” ë¸Œëœì¹˜ë¼ë©´ í•­ìƒ ì£¼ì˜**í•´ì•¼ í•œë‹¤!

<br>

## ì°¸ê³ 
- [Merging vs. Rebasing](https://www.atlassian.com/git/tutorials/merging-vs-rebasing#the-golden-rule-of-rebasing)
- [Git Mergeì™€ Rebaseì˜ ì°¨ì´, ì•„ë¦„ë‹¤ìš´ê³  ê¹”ë”í•œ Git History ë§Œë“¤ê¸°](https://firework-ham.tistory.com/12)